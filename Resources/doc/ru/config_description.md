Описание конфигурации [![In English](https://img.shields.io/badge/Switch_To-English-green.svg?style=flat-square)](../en/config_description.md)
=====================

Для организации переноса необходимых ресурсов из специфических мест в публичную директорию проекта предоставляется
специальная конфигурация. Конфигурация может быть зарегистрирована в глобальном конфиге `app/config/config.yml`.
Также конфигурацию можно поместить в конфигурационный файл `custom_assets.yml`, который необходимо поместить
в любом удобном бандле в папку `/Resources/config`.

**Рекомендуется** создать отдельную папку `/Resources/config/linkin` и поместить конфигурационный файл в нее, чтобы
отделить системные конфигурационные файлы `Symfony` от побочных.

**Примечание**: функционал бандла позволяет комбинировать оба способа регистрации конфигурации. Если в конфигурациях
будут одинаковые ключи пути, то глобальная конфигурация будет всегда в приоритете. При возникновении конфликта имен
между несколькими конфигурациями `custom_assets.yml` будет использована последняя зарегистрированная конфигурация.

Поля конфигурации
-----------------

**linkin_custom_assets** - корневое значения, определяющее принадлежность к `CustomAssetsBundle`.
Любой конфигурационный файл `custom_assets.yml` должен начинаться с этого ключа.

На втором уровне конфигурации находится единственное смещение `sources`:

| Параметр    | Обязательный | Тип     | По умолчанию | Описание                                                    |
|:------------|:------------:|:-------:|:------------:|-------------------------------------------------------------|
| **sources** | Да           | `array` |              | Список всех зарегистрированных именованных путей к ресурсам |

Смещение `sources` представляет ассоциативный массив, в котором **значение** - это путь к необходимым ресурсам, а 
**ключ** - обозначает название папки, в которую будут перенесены эти ресурсы.

**Важно**: Путь строится относительно значения `kernel.root_dir`.

### Полное представление всех смещений конфигурации

```yaml
linkin_custom_assets:                          # корневое значения, определяет принадлежность к CustomAssetsBundle
    sources:                                   # список всех зарегистрированных именованных путей к ресурсам
        jquery: '../vendor/components/jquery'  # путь к ресурсу JQuery которое будет скопировано в папку jquery
```

В результате выполнения команды [custom_assets:install](./command_install.md) необходимые ресурсы будут перенесены
в публичную часть проекта. Путь `web/custom_assets/jquery/<перенесенное_содержимое>`.

### Пример конфликта имен

**Конфликт с глобальным файлом**:

```yaml
# app/config/config.yml
linkin_custom_assets:
    sources:
        jquery: '../vendor/components/jquery'
```

```yaml
# AppBundle/Resources/config/custom_assets.yml
linkin_custom_assets:
    sources:
        jquery: '../vendor/components/jquery_app'
```

```yaml
# AdminBundle/Resources/config/custom_assets.yml
linkin_custom_assets:
    sources:
        jquery: '../vendor/components/jquery_admin'
```

В результате будет использован путь из глобального конфига: `'../vendor/components/jquery'`

**Конфликт двух бандлов**:

```yaml
# AppBundle/Resources/config/custom_assets.yml
linkin_custom_assets:
    sources:
        jquery: '../vendor/components/jquery_app'
```

```yaml
# AdminBundle/Resources/config/custom_assets.yml
linkin_custom_assets:
    sources:
        jquery: '../vendor/components/jquery_admin'
```

В результате будет использован путь из конфига `AppBundle`: `'../vendor/components/jquery_app'`.
Так происходит так как `AppBundle` регистрируется позже чем `AdminBundle`.

**Примечание**: полагаться на очередность регистрации бандлов плохая практика, так как это внутренний механизм Symfony,
который может быть изменен в любой момент. Вместо этого присвойте уникальные значения конфликтующим ключам.
